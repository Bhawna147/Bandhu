
{% extends 'base.html' %}

{% load static %}

{% block title %} Anandakendra {% endblock %}

{% block style %}
<!-- Custom CSS -->
<link rel="stylesheet" href="{% static 'css/bandhu.css' %}">
<link rel="stylesheet" href="{% static 'css/anandakendra.css' %}">

{% endblock %}

{% block navbar-links %}
<li class="nav-item">
    <a class="nav-link px-3 px-lg-2" href="{% url 'home' %}">Home</a>
</li>
<li class="nav-item">
    <a class="nav-link px-3 px-lg-2" href="#about">About</a>
</li>
<li class="nav-item">
    <a class="nav-link px-3 px-lg-2" href="#anandakendras">Anandakendras</a>
</li>
<li class="nav-item">
    <a class="nav-link px-3 px-lg-2" href="#contact">Contact</a>
</li>
{% endblock %}

{% block showcase-title-container %}
<div class="slider-txt-container" style="padding: 200px 0 200px 0;">
    <h2 class="bold-txt"> Anandakendra </h2>
</div>
{% endblock %}

{% block content %}
<!-- ANANDAKENDRA Section  -->
<section id="about" style="margin-top: -220px;">
    <div class="container pb-5 mb-5">
        <div class="row justify-content-center">
            <div class="col-md-6" style="z-index: 10;">
                <div style="padding: 135px 25px 0;">
                    <!-- <h3 class="content-title   " style="font-size: 2rem; margin-bottom: 20px;">Anandkendra</h3> -->
                    <p style="font-size: 20px;">
                        <strong>The Idea and the objective:</strong>
                    </p>
                    <p style="font-size: 17px;">
                        Bandhu Anandakendra, henceforward called Kendra, is conceived to support the school education in all possible ways. It is observed that there are children in 
                        villages, whose parents cannot or are not willing to afford to care for their education. These children need to be assisted for completing the school education 
                        successfully.
                        <br><br>
                        <strong>Modus Operandi:</strong> Weekly sessions on Sunday mornings are meant for developing spiritual, physical and emotional culture among children. This includes yogabhyas, 
                        creative and delightful games, inspiring songs, storytelling and other creative activities.  Daily guidance for 2 hours on school curriculum is provided beyond 
                        school timing. A Kendra is supposed to be run by one or two youth, who have preferably completed or are continuing their college education. They are called 
                        Anandakendra Acharyas/Acharyaas. 
                    </p>
                </div>
            </div>
            <div class="col-md-6" style="z-index: 10;">
                <div class="card border text-center">
                    <img class="card-img-top" src='{% static "img/gimg-3.png" %}' alt="Card image cap"
                        style="height: 500px; width: 100%;">
                </div>
            </div>
        </div>
    </div>
</section>

<!-- ANANDAKENDRAS Section -->
<section id="anandakendras" class="glide-carousel-custom">
    <div class="bg-grey" style="padding: 50px 0;">
        <div class="container">
            <div class="row">
                <div class="section-content w-100">
                    <div class="content-box from-bottom delay-200">
                        <h3 class="section-title">Running Anandkendras</h3>
                        <div class="glide anandakendras">
                            <div class="glide__track" data-glide-el="track">
                                <ul class="glide__slides">
                                    {% for kendra in kendras %}
                                    <li class="glide__slide">
                                        <div
                                            class="card w-100 shadow-sm border border-primary border-rounded mx-auto my-2">
                                            <img src="{{ kendra.image.url }}" class="card-img-top home-card-img" alt=""
                                                width="300px">
                                            <div class="card-body pb-0">
                                                <h5 class="card-title font-weight-bold">{{kendra.name}}</h5>
                                                <p class="mb-3">
                                                    {{kendra.locality}}
                                                    <br>
                                                </p>
                                                <a href="{% url 'anandakendra:AnandkendraDetail' slug=kendra.slug %}"
                                                    class="stretched-link"></a>
                                            </div>
                                        </div>
                                    </li>
                                    {% endfor %}
                                </ul>
                            </div>
                            <div class="glide__arrows disable_arrows d-none d-md-block" data-glide-el="controls">
                                <button class="slider_arrow slider_arrow--prev glide__arrow glide__arrow--left"
                                    data-glide-dir="<">
                                    <i class="fas fa-arrow-circle-left"></i>
                                </button>
                                <button class="slider_arrow slider_arrow--next glide__arrow glide__arrow--right"
                                    data-glide-dir=">">
                                    <i class="fas fa-arrow-circle-right"></i>
                                </button>
                            </div>
                            <div class="glide__bullets" data-glide-el="controls[nav]">
                                {% for kendra in kendras %}
                                <button class="glide__bullet" data-glide-dir="={{forloop.counter0}}"></button>
                                {% endfor %}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="row justify-content-center mt-4">
                <div class="add-ankurayan">
                    {% if user.is_admin %}
                    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#addAnandakendra">
                        Create Anandakendra
                    </button>
                    {% endif %}
                    <div class="modal fade bd-example-modal-lg" tabindex="-1" id="addAnandakendra" role="dialog"
                        aria-labelledby="exampleModalCenterTitle" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered modal-lg" role="document">
                            <div class="modal-content">
                                <div class="modal-header">
                                    <h5 class="modal-title bld" id="exampleModalLongTitle">Create Anandakendra</h5>
                                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                        <span aria-hidden="true">&times;</span>
                                    </button>
                                </div>
                                <div class="modal-body">
                                    <form method="POST" enctype="multipart/form-data"
                                        action="{% url 'anandakendra:CreateAnandaKendra' %}">
                                        {% csrf_token %}
                                        <div class="row">
                                            <div class="col">
                                                <label class="left-label bld" for="name">Name</label>
                                                <input type="text" class="form-control" name="name"
                                                    placeholder="Name" required="required"><br>
                                            </div>
                                            <div class="col">
                                                <label class="left-label bld" for="locality">Locality</label>
                                                <input type="text" class="form-control" name="locality"
                                                    placeholder="Locality" required="required"><br>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <label class="left-label bld" for="address">Address</label>
                                                <input type="text" class="form-control" name="address"
                                                    placeholder="Address" required="required"><br>
                                            </div>
                                            <div class="col">
                                                <label class="left-label bld" for="admin" required="required">Admin</label>
                                                <select required name="admin" class="form-control">
                                                    {% for user in all_users %}
                                                    <option value={{user.pk}}>{{user.first_name}} {{user.last_name}}
                                                    </option>
                                                    {% endfor %}
                                                </select>
                                            </div>
                                        </div>
                                        <label class="left-label bld" for="image">Thumbnail</label>
                                        <div class="input-group">
                                            <div class="custom-file">
                                                <input type="file" class="custom-file-input" name="image" id="inputGroupFile04" 
                                                    aria-describedby="inputGroupFileAddon04">
                                                <label class="custom-file-label" for="logo">Add Thumbnail</label>
                                            </div>
                                        </div><br>
                                        <label class="left-label bld" for="description">Description</label>
                                        <textarea name="description" class="form-control" id="" cols="80" rows="4"
                                            placeholder="Description"></textarea><br>
                                        <button class="btn btn-primary">Create Kendra</button>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<!-- Scroll To Top Button -->
<div id="scroll-to-top">
    <div class="hex scroll-top">
        <span><i class="fa fa-arrow-up"></i></span>
    </div>
</div>
{% endblock %}


{% block scripts %}
<!-- Custom JS -->
<script src="{% static 'js/bandhu.js' %}"></script>

<!-- Contact Scrollspy Problem -->
<script>contact_scrollspy()</script>

<script>
    // ANANDAKENDRAS CAROUSEL
    var kendra_glide = new Glide('.anandakendras', {
        type: 'carousel',
        focusAt: 'center',
        perView: 3,
        autoplay: 2000,
        gap: 30,
        breakpoints: {
            991: {
                perView: 2,
            },
            767: {
                perView: 1,
            },
        }
    })
    kendra_glide.mount()
</script>

<!-- Upload Detail in forms -->
<script type="text/javascript">

    $('.custom-file input').change(function (e) {
        var files = [];
        for (var i = 0; i < $(this)[0].files.length; i++) {
            files.push($(this)[0].files[i].name);
        }
        if(files.length > 1) {
            $(this).next('.custom-file-label').html(files.length + ' files selected');
        }
        else {
            $(this).next('.custom-file-label').html('1 file selected');
        }
    });
</script>
{% endblock %}